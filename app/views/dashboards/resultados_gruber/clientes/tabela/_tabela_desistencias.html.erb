<div class="col-lg-12" id="bloco_desistencias_financeiro" style="display: none">
  <div class="ibox">
    <div class="ibox-content product-box" style="border: 1px solid #bfca95;">
      <div class="ibox-title ibox-title-without-border-style">
        <h5>Clientes</h5>
      </div>
      <div class="ibox-content padding-5" id="table-tab-3">
        <table class="table table-striped table-bordered table-hover table-desistencias-financeiro">
          <thead>
          <tr>
            <td>Dta. desistência</td>
            <td>Dta. efetivação</td>
            <td>Dias como cliente</td>
            <td>Razão social</td>
            <td>Cidade- UF</td>
            <td>Mensalidade R$</td>
            <td>Motivo</td>
          </tr>
          </thead>
          <tbody style="width:100%" id="tbody_desistencias_financeiro">

          </tbody>
          <tfoot>
          </tfoot>
        </table>

      </div>
    </div>
  </div>
</div>

<script src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/date-eu.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/date-euro.js"></script>
<script>
    $(document).ready(function() {
        var table = $('.table-desistencias-financeiro').DataTable({
            pageLength: 10,
            responsive: true,
            dom: '<"html5buttons"B>lTfgitp',
            "ordering": true,
            "autoWidth": false,
            "autoWidth": false,
            buttons: [
                {
                    extend: 'excel',
                    title: 'Clientes'
                },
                {extend: 'pdf', title: 'Clientes'}

            ],
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json"
            },
            "columnDefs": [ { type: 'date-eu', targets: 0 },{
              "targets": -1,
              "data": null,
              "defaultContent": "<i class=\"fa fa-search\"></i>"
            } ],
            "fnDrawCallback": function (oSettings) {
                $('.table-desistencias-financeiro tbody tr').each(function () {
                    var sTitle = '';
                    var nTds = $('td', this);
                    var data = table.row(this).data();
                    if(data != undefined){
                        sTitle = "<h5>"+data[6]+"</h5>"
                    }

                    if(nTds[6] != undefined){
                        nTds[6].setAttribute('data-toggle', 'tooltip');
                        nTds[6].setAttribute('title', sTitle);
                        nTds[6].setAttribute('data-placement', 'left');
                        $(nTds[6]).addClass("text-center");
                        $(nTds[6]).tooltip({
                            html: true
                        });
                        // $(nTds[6]).removeAttr( "title" )
                        // data-toggle="tooltip" data-placement="right" title="Tooltip on right"
                    }
                });
            }
        });
    });
</script>
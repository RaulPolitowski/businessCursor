<div class="row">
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-content">
        <table class="table table-striped table-bordered table-hover table-captacao">
          <thead>
              <tr>
              <th style='width: 3%;'></th>
              <th style='width: 10%;'>CNPJ</th>
              <th style='width: 25%;'>Raz√£o Social</th>
              <th style='width: 35%;'>Cnae</th>
              <th style='width: 20%;'>Cidade</th>
              </tr>
          </thead>
          <tbody style="height: 250px">
            <% captacoes.each_with_index do |captacao, index| %>
              <tr>
                <td class="tableHeadCampanha"><%= index + 1 %></td>
                <td class="tableHeadCampanha"><%= captacao.cliente&.cnpj %></td>
                <td><%= captacao.cliente&.razao_social %></td>
                <td><%= captacao.cliente.cnae&.descricao %></td> 
                <td><%= captacao.cliente.cidade&.nome %></td>
              </tr>
            <% end %>
          </tbody>
          <tfoot>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/date-eu.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/date-euro.js"></script>
<script>
    $(document).ready(function() {
      $('.table-captacao').DataTable({
        pageLength: 4,
        rowReorder: {
            selector: 'td:nth-child(2)'
        },
        responsive: true,
        dom: '<"html5buttons"B>lTfgitp',
        "order": [[0, 'DESC']],
        buttons: [
            {extend: 'excel', title: 'CaptacaoAutomatizada'},
            {extend: 'pdf', title: 'CaptacaoAutomatizada'}
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json"
        },
      });
    });
</script>